<!DOCTYPE html>
<html>
<body>
<h2>Hunters Creek Poker</h2>
<h3>2024 Tournament Results</h3></p>

<h4>January</h4>
<table id="janTable"></table>
<br><br>
<h4>February</h4>
<table id="febTable"></table>
<br><br>
<table id="marTable"></table>
<br><br>
<table id="aprTable"></table>
<br><br>
<table id="mayTable"></table>
<br><br>
<table id="junTable"></table>
<br><br>
<table id="julTable"></table>
<br><br>
<table id="augTable"></table>
<br><br>
<table id="sepTable"></table>
<br><br>
<table id="octTable"></table>
<br><br>
<table id="novTable"></table>
<br><br>
<table id="decTable"></table>

<script>
   // async function fetchCSV(url) {
   //     try {
   //         const response = await fetch(url);
   //         const data = await response.text();
   //         document.getElementById('output').innerText = data;
   //     } catch (error) {
   //         console.error('Error fetching CSV:', error);
   //     }
   // }

    //fetchCSV('https://thlayli123.github.io/jan_24_prizes.csv');

    async function fetchCsvAndCreateTable(url,tableId) {
    try {
      const response = await fetch(url);
      const csvText = await response.text();
      const data = parseCsv(csvText);
      createTable(data,tableId);
    } catch (error) {
      createTable(parseCsv('No Tournament Data'),tableId);
      console.error('Error fetching or parsing CSV:', error);
    }
  }

  function parseCsv(csvText) {
    const lines = csvText.split('\n');
    return lines.map(line => line.split(','));
  }

  function createTable(data,tableId) {
    const table = document.getElementById(tableId);
    data.forEach((row, rowIndex) => {
      const tr = table.insertRow();
      row.forEach((cell, cellIndex) => {
        const tableElement = rowIndex === 0 ? document.createElement('th') : document.createElement('td');
        tableElement.textContent = cell;
        tr.appendChild(tableElement);
      });
    });
  }

  fetchCsvAndCreateTable('https://thlayli123.github.io/jan_24_prizes.csv','janTable');
  fetchCsvAndCreateTable('https://thlayli123.github.io/feb_25_prizes.csv','febTable');


</script>

</body>
</html>
